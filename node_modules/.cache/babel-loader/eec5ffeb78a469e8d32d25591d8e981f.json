{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nvar initialState = {\n  cartItems: [],\n  totalQuantity: 0,\n  totalAmount: 0\n};\nvar cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialState,\n  reducers: {\n    addItem: function addItem(state, action) {\n      var newItem = action.payload;\n      var existingItem = state.cartItems.find(function (item) {\n        return item.id == newItem.id;\n      });\n      state.totalQuantity++;\n\n      if (!existingItem) {\n        /*\r\n            ========== if you just redux you should not mute state array instead of clone the \r\n            state array, but if you use toolkit that will not a problem because \r\n            redux toolkit clone the array behind the scene\r\n        \r\n        */\n        state.cartItems.push({\n          id: newItem.id,\n          title: newItem.title,\n          image01: newItem.image01,\n          price: newItem.price,\n          quantity: 1,\n          totalPrice: newItem.price\n        });\n      } else {\n        existingItem.quantity++;\n        existingItem.totalPrice = Number(existingItem.totalPrice) + Number(newItem.price);\n      }\n\n      state.totalAmount = state.cartItems.reduce(function (total, item) {\n        return total + Number(item.price) * Number(item.quantity);\n      }, // initial value should be 0\n      0);\n    },\n    // ============== remove item =============\n    removeItem: function removeItem(state, action) {\n      var id = action.payload;\n      var existingItem = state.cartItems.find(function (item) {\n        return item.id == id;\n      });\n      state.totalQuantity--;\n\n      if (existingItem.quantity == 1) {\n        state.cartItems = state.cartItems.filter(function (item) {\n          return item.id != id;\n        });\n      } else {\n        existingItem.quantity--;\n        existingItem.totalPrice = Number(existingItem.totalPrice) - Number(existingItem.price);\n      }\n\n      state.totalAmount = state.cartItems.reduce(function (total, item) {\n        return total + Number(item.price) * Number(item.quantity);\n      }, 0);\n    },\n    // ==========delete item========\n    deleteItem: function deleteItem(state, action) {\n      var id = action.payload;\n      var existingItem = state.cartItems.find(function (item) {\n        return item.id == id;\n      });\n\n      if (existingItem) {\n        state.cartItems = state.cartItems.filter(function (item) {\n          return item.id != id;\n        });\n        state.totalQuantity = state.totalQuantity - existingItem.quantity;\n      }\n\n      state.totalAmount = state.cartItems.reduce(function (total, item) {\n        return total + Number(item.price) * Number(item.quantity);\n      }, 0);\n    }\n  }\n});\nexport var cartActions = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialState","cartItems","totalQuantity","totalAmount","cartSlice","name","reducers","addItem","state","action","newItem","payload","existingItem","find","item","id","push","title","image01","price","quantity","totalPrice","Number","reduce","total","removeItem","filter","deleteItem","cartActions","actions"],"sources":["C:/D/my_project/Food-order-delivery/src/store/shopping-cart/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  cartItems: [],\r\n  totalQuantity: 0,\r\n  totalAmount: 0,\r\n};\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: initialState,\r\n\r\n  reducers: {\r\n    addItem(state, action) {\r\n      const newItem = action.payload;\r\n      const existingItem = state.cartItems.find(\r\n        (item) => item.id == newItem.id\r\n      );\r\n      state.totalQuantity++;\r\n\r\n      if (!existingItem) {\r\n        /*\r\n            ========== if you just redux you should not mute state array instead of clone the \r\n            state array, but if you use toolkit that will not a problem because \r\n            redux toolkit clone the array behind the scene\r\n        \r\n        */\r\n\r\n        state.cartItems.push({\r\n          id: newItem.id,\r\n          title: newItem.title,\r\n          image01: newItem.image01,\r\n          price: newItem.price,\r\n          quantity: 1,\r\n          totalPrice: newItem.price,\r\n        });\r\n      } else {\r\n        existingItem.quantity++;\r\n        existingItem.totalPrice =\r\n          Number(existingItem.totalPrice) + Number(newItem.price);\r\n      }\r\n\r\n      state.totalAmount = state.cartItems.reduce(\r\n        (total, item) => total + Number(item.price) * Number(item.quantity),\r\n        // initial value should be 0\r\n        0\r\n      );\r\n    },\r\n\r\n    // ============== remove item =============\r\n    removeItem(state, action) {\r\n      const id = action.payload;\r\n      const existingItem = state.cartItems.find((item) => item.id == id);\r\n      state.totalQuantity--;\r\n\r\n      if (existingItem.quantity == 1) {\r\n        state.cartItems = state.cartItems.filter((item) => item.id != id);\r\n      } else {\r\n        existingItem.quantity--;\r\n        existingItem.totalPrice =\r\n          Number(existingItem.totalPrice) - Number(existingItem.price);\r\n      }\r\n\r\n      state.totalAmount = state.cartItems.reduce(\r\n        (total, item) => total + Number(item.price) * Number(item.quantity),\r\n        0\r\n      );\r\n    },\r\n\r\n    // ==========delete item========\r\n    deleteItem(state, action) {\r\n      const id = action.payload;\r\n      const existingItem = state.cartItems.find((item) => item.id == id);\r\n\r\n      if (existingItem) {\r\n        state.cartItems = state.cartItems.filter((item) => item.id != id);\r\n        state.totalQuantity = state.totalQuantity - existingItem.quantity;\r\n      }\r\n\r\n      state.totalAmount = state.cartItems.reduce(\r\n        (total, item) => total + Number(item.price) * Number(item.quantity),\r\n        0\r\n      );\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\nexport default cartSlice;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}