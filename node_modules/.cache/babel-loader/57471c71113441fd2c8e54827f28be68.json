{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import{Container}from\"reactstrap\";import logo from\"../../assets/images/res-logo.png\";import{NavLink,Link,useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{cartUiActions}from\"../../store/shopping-cart/cartUiSlice\";import useAuth from\"../../custom-hooks/useAuth\";import{signOut}from\"firebase/auth\";import{auth}from\"../../firebase.config\";// import { motion } from \"framer-motion\";\nimport Dropdown from\"react-bootstrap/Dropdown\";import\"../../styles/header.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var nav_links=[{display:\"Home\",path:\"/home\"},{display:\"Foods\",path:\"/foods\"},{display:\"Cart\",path:\"/cart\"},{display:\"Contact\",path:\"/contact\"}];var Header=function Header(){var menuRef=useRef(null);var headerRef=useRef(null);var navigate=useNavigate();var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var totalQuantity=useSelector(function(state){return state.cart.totalQuantity;});var profileActionRef=useRef(null);var dispatch=useDispatch();var toggleMenu=function toggleMenu(){return menuRef.current.classList.toggle(\"show__menu\");};var toggleCart=function toggleCart(){dispatch(cartUiActions.toggle());};var logout=function logout(){signOut(auth).then(function(){console.log(\"log out\");navigate(\"/home\");}).catch(function(err){console.log(err.message);});};useEffect(function(){// it achieve when we scroll the page, the Tasty Treat logo not change, always in top\nwindow.addEventListener(\"scroll\",function(){if(document.body.scrollTop>80||document.documentElement.scrollTop>80){headerRef.current.classList.add(\"header__shrink\");}else{headerRef.current.classList.remove(\"header__shrink\");}});return function(){return window.removeEventListener(\"scroll\");};},[]);// const menuToggle = () => menuRef.current.classList.toggle(\"active__menu\");\n// const navigateToCart = () => {\n//   navigate(\"/cart\");\n// };\nvar toggleProfileActions=function toggleProfileActions(){return profileActionRef.current.classList.toggle(\"show__profileActions\");};return/*#__PURE__*/_jsx(\"header\",{className:\"header\",ref:headerRef,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav_wrapper d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Tasty Treat\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navigation\",ref:menuRef,onClick:toggleMenu,children:/*#__PURE__*/_jsx(\"div\",{className:\"menu d-flex align-items-center gap-5\",children:nav_links.map(function(item,index){return/*#__PURE__*/_jsx(NavLink,{to:item.path,className:function className(navClass){return navClass.isActive?\"avtive__menu\":\"\";},children:item.display},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav__right d-flex align-items-center gap-4\",children:[currentUser?/*#__PURE__*/_jsxs(\"span\",{className:\"cart__icon\",onClick:toggleCart,children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-shopping-basket-line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart__badge\",children:totalQuantity})]}):/*#__PURE__*/_jsx(\"span\",{className:\"cart__icon\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Visitors\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile\",ref:profileActionRef,onClick:toggleProfileActions,children:/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",children:/*#__PURE__*/_jsx(\"i\",{class:\"ri-user-line\"})}),/*#__PURE__*/_jsx(Dropdown.Menu,{className:\"profile__actions\",ref:profileActionRef,onClick:toggleProfileActions,children:currentUser?/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/home\",onClick:logout,children:\"Logout\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/register\",children:\"Register\"}),/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/login\",children:\"Login\"})]})})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"mobile__menu\",onClick:toggleMenu,children:/*#__PURE__*/_jsx(\"i\",{class:\"ri-menu-line\"})})]})]})})});};export default Header;","map":{"version":3,"names":["React","useRef","useEffect","Container","logo","NavLink","Link","useNavigate","useSelector","useDispatch","cartUiActions","useAuth","signOut","auth","Dropdown","nav_links","display","path","Header","menuRef","headerRef","navigate","currentUser","totalQuantity","state","cart","profileActionRef","dispatch","toggleMenu","current","classList","toggle","toggleCart","logout","then","console","log","catch","err","message","window","addEventListener","document","body","scrollTop","documentElement","add","remove","removeEventListener","toggleProfileActions","map","item","index","navClass","isActive"],"sources":["C:/D/my_project/Food-order-delivery/src/components/Header/Header.jsx"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { Container } from \"reactstrap\";\r\nimport logo from \"../../assets/images/res-logo.png\";\r\nimport { NavLink, Link, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { cartUiActions } from \"../../store/shopping-cart/cartUiSlice\";\r\n\r\nimport useAuth from \"../../custom-hooks/useAuth\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"../../firebase.config\";\r\n\r\n// import { motion } from \"framer-motion\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport \"../../styles/header.css\";\r\n\r\nconst nav_links = [\r\n  {\r\n    display: \"Home\",\r\n    path: \"/home\",\r\n  },\r\n  {\r\n    display: \"Foods\",\r\n    path: \"/foods\",\r\n  },\r\n  {\r\n    display: \"Cart\",\r\n    path: \"/cart\",\r\n  },\r\n  {\r\n    display: \"Contact\",\r\n    path: \"/contact\",\r\n  },\r\n];\r\nconst Header = () => {\r\n  const menuRef = useRef(null);\r\n\r\n  const headerRef = useRef(null);\r\n\r\n  const navigate = useNavigate();\r\n  const { currentUser } = useAuth();\r\n\r\n  const totalQuantity = useSelector((state) => state.cart.totalQuantity);\r\n\r\n  const profileActionRef = useRef(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleMenu = () => menuRef.current.classList.toggle(\"show__menu\");\r\n\r\n  const toggleCart = () => {\r\n    dispatch(cartUiActions.toggle());\r\n  };\r\n\r\n  const logout = () => {\r\n    signOut(auth)\r\n      .then(() => {\r\n        console.log(\"log out\");\r\n        navigate(\"/home\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // it achieve when we scroll the page, the Tasty Treat logo not change, always in top\r\n    window.addEventListener(\"scroll\", () => {\r\n      if (\r\n        document.body.scrollTop > 80 ||\r\n        document.documentElement.scrollTop > 80\r\n      ) {\r\n        headerRef.current.classList.add(\"header__shrink\");\r\n      } else {\r\n        headerRef.current.classList.remove(\"header__shrink\");\r\n      }\r\n    });\r\n\r\n    return () => window.removeEventListener(\"scroll\");\r\n  }, []);\r\n\r\n  // const menuToggle = () => menuRef.current.classList.toggle(\"active__menu\");\r\n  // const navigateToCart = () => {\r\n  //   navigate(\"/cart\");\r\n  // };\r\n\r\n  const toggleProfileActions = () =>\r\n    profileActionRef.current.classList.toggle(\"show__profileActions\");\r\n\r\n  return (\r\n    <header className=\"header\" ref={headerRef}>\r\n      <Container>\r\n        <div className=\"nav_wrapper d-flex align-items-center justify-content-between\">\r\n          <div className=\"logo\">\r\n            <img src={logo} alt=\"logo\" />\r\n            <h5>Tasty Treat</h5>\r\n          </div>\r\n\r\n          {/* ============= menu ============= */}\r\n          <div className=\"navigation\" ref={menuRef} onClick={toggleMenu}>\r\n            <div className=\"menu d-flex align-items-center gap-5\">\r\n              {nav_links.map((item, index) => (\r\n                <NavLink\r\n                  to={item.path}\r\n                  key={index}\r\n                  className={(navClass) =>\r\n                    navClass.isActive ? \"avtive__menu\" : \"\"\r\n                  }\r\n                >\r\n                  {item.display}\r\n                </NavLink>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* =============== nav right icons ================= */}\r\n          <div className=\"nav__right d-flex align-items-center gap-4\">\r\n            {currentUser ? (\r\n              <span className=\"cart__icon\" onClick={toggleCart}>\r\n                <i class=\"ri-shopping-basket-line\"></i>\r\n                <span className=\"cart__badge\">\r\n                  {/* it shows how many cart the user add in */}\r\n                  {totalQuantity}\r\n                </span>\r\n              </span>\r\n            ) : (\r\n              <span className=\"cart__icon\">\r\n                <Link to=\"/login\">Visitors</Link>\r\n              </span>\r\n            )}\r\n\r\n            <div\r\n              className=\"profile\"\r\n              ref={profileActionRef}\r\n              onClick={toggleProfileActions}\r\n            >\r\n              <Dropdown>\r\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                  <i class=\"ri-user-line\"></i>\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu\r\n                  className=\"profile__actions\"\r\n                  ref={profileActionRef}\r\n                  onClick={toggleProfileActions}\r\n                >\r\n                  {currentUser ? (\r\n                    <Dropdown.Item href=\"/home\" onClick={logout}>\r\n                      Logout\r\n                    </Dropdown.Item>\r\n                  ) : (\r\n                    <div>\r\n                      <Dropdown.Item href=\"/register\">Register</Dropdown.Item>\r\n                      <Dropdown.Item href=\"/login\">Login</Dropdown.Item>\r\n                    </div>\r\n                  )}\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </div>\r\n\r\n            {/* <div\r\n              className=\"profile nav__icons\"\r\n              ref={profileActionRef}\r\n              onClick={toggleProfileActions}\r\n            >\r\n              {currentUser ? (\r\n                <div className=\"profile__actions\">\r\n                  <span>Logout</span>\r\n                </div>\r\n              ) : (\r\n                <div className=\"profile__actions\">\r\n                  <Link to=\"/register\">Signup</Link>\r\n                  <Link to=\"/login\">Login</Link>\r\n                </div>\r\n              )}\r\n            </div> */}\r\n\r\n            {/* </div> */}\r\n\r\n            {/* <span className=\"user\">\r\n              <Link to=\"/login\">\r\n                <i class=\"ri-user-line\"></i>\r\n              </Link>\r\n            </span> */}\r\n\r\n            <span className=\"mobile__menu\" onClick={toggleMenu}>\r\n              <i class=\"ri-menu-line\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}